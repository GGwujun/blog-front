<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-front/umi.css" />
    <script>
      window.routerBase = "/blog-front";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>09 | Widget，构建Flutter界面的基石 - 大师兄</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/flutter核心技术与实战/04.flutter基础/01" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-front/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>算法<ul><li><a href="/blog-front/业务开发算法50讲">业务开发算法50讲</a></li></ul></span><span>前端开发<ul><li><a href="/blog-front/浏览器工作原理与实践">浏览器工作原理与实践</a></li><li><a aria-current="page" class="active" href="/blog-front/flutter核心技术与实战">flutter核心技术与实战</a></li><li><a href="/blog-front/java-script核心原理解析">java-script核心原理解析</a></li><li><a href="/blog-front/nodejs应用开发实战">nodejs应用开发实战</a></li><li><a href="/blog-front/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li><li><a href="/blog-front/reactnative新架构实战课">reactnative新架构实战课</a></li><li><a href="/blog-front/重学前端">重学前端</a></li><li><a href="/blog-front/serverless入门课">serverless入门课</a></li><li><a href="/blog-front/type-script入门实战笔记">type-script入门实战笔记</a></li><li><a href="/blog-front/图解googlev8">图解googlev8</a></li><li><a href="/blog-front/vue3源码分析">vue3源码分析</a></li><li><a href="/blog-front/玩转Vue3全家桶">玩转Vue3全家桶</a></li><li><a href="/blog-front/webassembly入门">webassembly入门</a></li><li><a href="/blog-front/手把手带你写一个Web框架">手把手带你写一个Web框架</a></li><li><a href="/blog-front/web漏洞挖掘实战">web漏洞挖掘实战</a></li><li><a href="/blog-front/跟月影学可视化">跟月影学可视化</a></li><li><a href="/blog-front/搞定音频技术">搞定音频技术</a></li><li><a href="/blog-front/攻克视频技术">攻克视频技术</a></li></ul></span><span>前端工程化<ul><li><a href="/blog-front/logger">logger</a></li><li><a href="/blog-front/webpack">webpack</a></li><li><a href="/blog-front/webpackchain">webpackchain</a></li></ul></span><span>前端性能优化<ul><li><a href="/blog-front/react性能调优">react性能调优</a></li></ul></span><span>移动端开发<ul><li><a href="/blog-front/android开发高手课">android开发高手课</a></li><li><a href="/blog-front/ios开发高手课">ios开发高手课</a></li></ul></span><span>产品与用户体验<ul><li><a href="/blog-front/视觉笔记入门课">视觉笔记入门课</a></li></ul></span><span>杂谈<ul><li><a href="/blog-front/git实战手册">git实战手册</a></li><li><a href="/blog-front/nodejs">nodejs</a></li><li><a href="/blog-front/reactjs">reactjs</a></li><li><a href="/blog-front/ui设计">ui设计</a></li><li><a href="/blog-front/webpack4系列教程">webpack4系列教程</a></li><li><a href="/blog-front/前端知识体系">前端知识体系</a></li><li><a href="/blog-front/剑指offer刷题笔记">剑指offer刷题笔记</a></li><li><a href="/blog-front/思考与成长">思考与成长</a></li><li><a href="/blog-front/设计模式手册">设计模式手册</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-front/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>算法<ul><li><a href="/blog-front/业务开发算法50讲">业务开发算法50讲</a></li></ul></li><li>前端开发<ul><li><a href="/blog-front/浏览器工作原理与实践">浏览器工作原理与实践</a></li><li><a aria-current="page" class="active" href="/blog-front/flutter核心技术与实战">flutter核心技术与实战</a></li><li><a href="/blog-front/java-script核心原理解析">java-script核心原理解析</a></li><li><a href="/blog-front/nodejs应用开发实战">nodejs应用开发实战</a></li><li><a href="/blog-front/反爬虫兵法演绎20讲">反爬虫兵法演绎20讲</a></li><li><a href="/blog-front/reactnative新架构实战课">reactnative新架构实战课</a></li><li><a href="/blog-front/重学前端">重学前端</a></li><li><a href="/blog-front/serverless入门课">serverless入门课</a></li><li><a href="/blog-front/type-script入门实战笔记">type-script入门实战笔记</a></li><li><a href="/blog-front/图解googlev8">图解googlev8</a></li><li><a href="/blog-front/vue3源码分析">vue3源码分析</a></li><li><a href="/blog-front/玩转Vue3全家桶">玩转Vue3全家桶</a></li><li><a href="/blog-front/webassembly入门">webassembly入门</a></li><li><a href="/blog-front/手把手带你写一个Web框架">手把手带你写一个Web框架</a></li><li><a href="/blog-front/web漏洞挖掘实战">web漏洞挖掘实战</a></li><li><a href="/blog-front/跟月影学可视化">跟月影学可视化</a></li><li><a href="/blog-front/搞定音频技术">搞定音频技术</a></li><li><a href="/blog-front/攻克视频技术">攻克视频技术</a></li></ul></li><li>前端工程化<ul><li><a href="/blog-front/logger">logger</a></li><li><a href="/blog-front/webpack">webpack</a></li><li><a href="/blog-front/webpackchain">webpackchain</a></li></ul></li><li>前端性能优化<ul><li><a href="/blog-front/react性能调优">react性能调优</a></li></ul></li><li>移动端开发<ul><li><a href="/blog-front/android开发高手课">android开发高手课</a></li><li><a href="/blog-front/ios开发高手课">ios开发高手课</a></li></ul></li><li>产品与用户体验<ul><li><a href="/blog-front/视觉笔记入门课">视觉笔记入门课</a></li></ul></li><li>杂谈<ul><li><a href="/blog-front/git实战手册">git实战手册</a></li><li><a href="/blog-front/nodejs">nodejs</a></li><li><a href="/blog-front/reactjs">reactjs</a></li><li><a href="/blog-front/ui设计">ui设计</a></li><li><a href="/blog-front/webpack4系列教程">webpack4系列教程</a></li><li><a href="/blog-front/前端知识体系">前端知识体系</a></li><li><a href="/blog-front/剑指offer刷题笔记">剑指offer刷题笔记</a></li><li><a href="/blog-front/思考与成长">思考与成长</a></li><li><a href="/blog-front/设计模式手册">设计模式手册</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-front/flutter核心技术与实战">flutter核心技术与实战</a></li><li><a href="/blog-front/flutter核心技术与实战/01.课前必读">01.课前必读</a><ul><li><a href="/blog-front/flutter核心技术与实战/01.课前必读/01"><span>开篇词 | 为什么每一位大前端从业者都应该学习Flutter？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/01.课前必读/02"><span>01 | 预习篇 · 从0开始搭建Flutter工程环境</span></a></li><li><a href="/blog-front/flutter核心技术与实战/01.课前必读/03"><span>02 | 预习篇 · Dart语言概览</span></a></li></ul></li><li><a href="/blog-front/flutter核心技术与实战/02.flutter开发起步">02.Flutter开发起步</a><ul><li><a href="/blog-front/flutter核心技术与实战/02.flutter开发起步/01"><span>03 | 深入理解跨平台方案的历史发展逻辑</span></a></li><li><a href="/blog-front/flutter核心技术与实战/02.flutter开发起步/02"><span>04 | Flutter区别于其他方案的关键技术是什么？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/02.flutter开发起步/03"><span>05 | 从标准模板入手，体会Flutter代码是如何运行在原生系统上的</span></a></li></ul></li><li><a href="/blog-front/flutter核心技术与实战/03.dart语言基础">03.Dart语言基础</a><ul><li><a href="/blog-front/flutter核心技术与实战/03.dart语言基础/01"><span>06 | 基础语法与类型变量：Dart是如何表示信息的？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/03.dart语言基础/02"><span>07 | 函数、类与运算符：Dart是如何处理信息的？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/03.dart语言基础/03"><span>08 | 综合案例：掌握Dart核心特性</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-front/flutter核心技术与实战/04.flutter基础">04.Flutter基础</a><ul><li><a aria-current="page" class="active" href="/blog-front/flutter核心技术与实战/04.flutter基础/01"><span>09 | Widget，构建Flutter界面的基石</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/02"><span>10 | Widget中的State到底是什么？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/03"><span>11 | 提到生命周期，我们是在说什么？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/04"><span>12 | 经典控件（一）：文本、图片和按钮在Flutter中怎么用？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/05"><span>13 | 经典控件（二）：UITableView/ListView在Flutter中是什么？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/06"><span>14 | 经典布局：如何定义子控件在父容器中排版的位置？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/07"><span>15 | 组合与自绘，我该选用何种方式自定义Widget？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/08"><span>16 | 从夜间模式说起，如何定制不同风格的App主题？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/09"><span>17 | 依赖管理（一）：图片、配置和字体在Flutter中怎么用？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/10"><span>18 | 依赖管理（二）：第三方组件库在Flutter中要如何管理？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/11"><span>19 | 用户交互事件该如何响应？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/12"><span>20 | 关于跨组件传递数据，你只需要记住这三招</span></a></li><li><a href="/blog-front/flutter核心技术与实战/04.flutter基础/13"><span>21 | 路由与导航，Flutter是这样实现页面切换的</span></a></li></ul></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶">05.Flutter进阶</a><ul><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/01"><span>22 | 如何构造炫酷的动画效果？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/02"><span>23 | 单线程模型怎么保证UI运行流畅？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/03"><span>24 | HTTP网络编程与JSON解析</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/04"><span>25 | 本地存储与数据库的使用和优化</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/05"><span>26 | 如何在Dart层兼容Android/iOS平台特定实现？（一）</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/06"><span>27 | 如何在Dart层兼容Android/iOS平台特定实现？（二）</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/07"><span>28 | 如何在原生应用中混编Flutter工程？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/08"><span>29 | 混合开发，该用何种方案管理导航栈？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/09"><span>30 | 为什么需要做状态管理，怎么做？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/10"><span>31 | 如何实现原生推送能力？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/11"><span>32 | 适配国际化，除了多语言我们还需要注意什么?</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/12"><span>33 | 如何适配不同分辨率的手机屏幕？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/13"><span>34 | 如何理解Flutter的编译模式？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/14"><span>35 | Hot Reload是怎么做到的？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/15"><span>36 | 如何通过工具链优化开发调试效率？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/16"><span>37 | 如何检测并优化Flutter App的整体性能表现？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/05.flutter进阶/17"><span>38 | 如何通过自动化测试提高交付质量？</span></a></li></ul></li><li><a href="/blog-front/flutter核心技术与实战/06.flutter综合应用">06.Flutter综合应用</a><ul><li><a href="/blog-front/flutter核心技术与实战/06.flutter综合应用/01"><span>39 | 线上出现问题，该如何做好异常捕获与信息采集？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/06.flutter综合应用/02"><span>40 | 衡量Flutter App线上质量，我们需要关注这三个指标</span></a></li><li><a href="/blog-front/flutter核心技术与实战/06.flutter综合应用/03"><span>41 | 组件化和平台化，该如何组织合理稳定的Flutter工程结构？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/06.flutter综合应用/04"><span>42 | 如何构建高效的Flutter App打包发布环境？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/06.flutter综合应用/05"><span>43 | 如何构建自己的Flutter混合开发框架（一）？</span></a></li><li><a href="/blog-front/flutter核心技术与实战/06.flutter综合应用/06"><span>44 | 如何构建自己的Flutter混合开发框架（二）？</span></a></li></ul></li><li><a href="/blog-front/flutter核心技术与实战/07.结束语">07.结束语</a><ul><li><a href="/blog-front/flutter核心技术与实战/07.结束语/01"><span>结束语 | 勿畏难，勿轻略</span></a></li><li><a href="/blog-front/flutter核心技术与实战/07.结束语/02"><span>结课测试 | 关于Flutter的这些知识，你都掌握了吗？</span></a></li></ul></li><li><a href="/blog-front/flutter核心技术与实战/08.特别放送">08.特别放送</a><ul><li><a href="/blog-front/flutter核心技术与实战/08.特别放送/01"><span>特别放送 ｜ 温故而知新，与你说说专栏的那些思考题</span></a></li></ul></li><li><a href="/blog-front/flutter核心技术与实战/summary">flutter核心技术与实战</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="Widget渲染过程" data-depth="2"><a href="/blog-front/flutter核心技术与实战/04.flutter基础/01#widget渲染过程"><span>Widget渲染过程</span></a></li><li title="Widget" data-depth="3"><a href="/blog-front/flutter核心技术与实战/04.flutter基础/01#widget"><span>Widget</span></a></li><li title="Element" data-depth="3"><a href="/blog-front/flutter核心技术与实战/04.flutter基础/01#element"><span>Element</span></a></li><li title="RenderObject" data-depth="3"><a href="/blog-front/flutter核心技术与实战/04.flutter基础/01#renderobject"><span>RenderObject</span></a></li><li title="RenderObjectWidget介绍" data-depth="2"><a href="/blog-front/flutter核心技术与实战/04.flutter基础/01#renderobjectwidget介绍"><span>RenderObjectWidget介绍</span></a></li><li title="总结" data-depth="2"><a href="/blog-front/flutter核心技术与实战/04.flutter基础/01#总结"><span>总结</span></a></li><li title="思考题" data-depth="2"><a href="/blog-front/flutter核心技术与实战/04.flutter基础/01#思考题"><span>思考题</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="09--widget构建flutter界面的基石"><a aria-hidden="true" tabindex="-1" href="/blog-front/flutter核心技术与实战/04.flutter基础/01#09--widget构建flutter界面的基石"><span class="icon icon-link"></span></a>09 | Widget，构建Flutter界面的基石</h1><p>你好，我是陈航。</p><p>在前面的Flutter开发起步和Dart基础模块中，我和你一起学习了Flutter框架的整体架构与基本原理，分析了Flutter的项目结构和运行机制，并从Flutter开发角度介绍了Dart语言的基本设计思路，也通过和其他高级语言的类比深入认识了Dart的语法特性。</p><p>这些内容，是我们接下来系统学习构建Flutter应用的基础，可以帮助我们更好地掌握Flutter的核心概念和技术。</p><p>在第4篇文章“<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/105703">Flutter区别于其他方案的关键技术是什么？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>”中，我和你分享了一张来自Flutter官方的架构图，不难看出Widget是整个视图描述的基础。这张架构图很重要，所以我在这里又放了一次。</p><p><img src="/blog-front/static/httpsstatic001geekbangorgresourceimageac2fac7d1cec200f7ea7cb6cbab04eda252f.c66555b1.png" alt=""/></p><p>图1 Flutter架构图</p><p>备注：此图引自<a target="_blank" rel="noopener noreferrer" href="https://flutter.dev/docs/resources/technical-overview">Flutter System Overview<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>那么，Widget到底是什么呢？</p><p>Widget是Flutter功能的抽象描述，是视图的配置信息，同样也是数据的映射，是Flutter开发框架中最基本的概念。前端框架中常见的名词，比如视图（View）、视图控制器（View Controller）、活动（Activity）、应用（Application）、布局（Layout）等，在Flutter中都是Widget。</p><p>事实上，<strong>Flutter的核心设计思想便是“一切皆Widget”</strong>。所以，我们学习Flutter，首先得从学会使用Widget开始。</p><p>那么，在今天的这篇文章中，我会带着你一起学习Widget在Flutter中的设计思路和基本原理，以帮助你深入理解Flutter的视图构建过程。</p><h2 id="widget渲染过程"><a aria-hidden="true" tabindex="-1" href="/blog-front/flutter核心技术与实战/04.flutter基础/01#widget渲染过程"><span class="icon icon-link"></span></a>Widget渲染过程</h2><p>在进行App开发时，我们往往会关注的一个问题是：如何结构化地组织视图数据，提供给渲染引擎，最终完成界面显示。</p><p>通常情况下，不同的UI框架中会以不同的方式去处理这一问题，但无一例外地都会用到视图树（View Tree）的概念。而Flutter将视图树的概念进行了扩展，把视图数据的组织和渲染抽象为三部分，即Widget，Element和 RenderObject。</p><p>这三部分之间的关系，如下所示：</p><p><img src="data:image/png;base64,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" alt=""/></p><p>图2 Widget，Element与RenderObject</p><h3 id="widget"><a aria-hidden="true" tabindex="-1" href="/blog-front/flutter核心技术与实战/04.flutter基础/01#widget"><span class="icon icon-link"></span></a>Widget</h3><p>Widget是Flutter世界里对视图的一种结构化描述，你可以把它看作是前端中的“控件”或“组件”。Widget是控件实现的基本逻辑单位，里面存储的是有关视图渲染的配置信息，包括布局、渲染属性、事件响应信息等。</p><p>在页面渲染上，<strong>Flutter将“Simple is best”这一理念做到了极致</strong>。为什么这么说呢？Flutter将Widget设计成不可变的，所以当视图渲染的配置信息发生变化时，Flutter会选择重建Widget树的方式进行数据更新，以数据驱动UI构建的方式简单高效。</p><p>但，这样做的缺点是，因为涉及到大量对象的销毁和重建，所以会对垃圾回收造成压力。不过，Widget本身并不涉及实际渲染位图，所以它只是一份轻量级的数据结构，重建的成本很低。</p><p>另外，由于Widget的不可变性，可以以较低成本进行渲染节点复用，因此在一个真实的渲染树中可能存在不同的Widget对应同一个渲染节点的情况，这无疑又降低了重建UI的成本。</p><h3 id="element"><a aria-hidden="true" tabindex="-1" href="/blog-front/flutter核心技术与实战/04.flutter基础/01#element"><span class="icon icon-link"></span></a>Element</h3><p>Element是Widget的一个实例化对象，它承载了视图构建的上下文数据，是连接结构化的配置信息到完成最终渲染的桥梁。</p><p>Flutter渲染过程，可以分为这么三步：</p><ul><li>首先，通过Widget树生成对应的Element树；</li><li>然后，创建相应的RenderObject并关联到Element.renderObject属性上；</li><li>最后，构建成RenderObject树，以完成最终的渲染。</li></ul><p>可以看到，Element同时持有Widget和RenderObject。而无论是Widget还是Element，其实都不负责最后的渲染，只负责发号施令，真正去干活儿的只有RenderObject。那你可能会问，<strong>既然都是发号施令，那为什么需要增加中间的这层Element树呢？直接由Widget命令RenderObject去干活儿不好吗？</strong></p><p>答案是，可以，但这样做会极大地增加渲染带来的性能损耗。</p><p>因为Widget具有不可变性，但Element却是可变的。实际上，Element树这一层将Widget树的变化（类似React 虚拟DOM diff）做了抽象，可以只将真正需要修改的部分同步到真实的RenderObject树中，最大程度降低对真实渲染视图的修改，提高渲染效率，而不是销毁整个渲染视图树重建。</p><p>这，就是Element树存在的意义。</p><h3 id="renderobject"><a aria-hidden="true" tabindex="-1" href="/blog-front/flutter核心技术与实战/04.flutter基础/01#renderobject"><span class="icon icon-link"></span></a>RenderObject</h3><p>从其名字，我们就可以很直观地知道，RenderObject是主要负责实现视图渲染的对象。</p><p>在前面的第4篇文章“<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/105703">Flutter区别于其他方案的关键技术是什么？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>”中，我们提到，Flutter通过控件树（Widget树）中的每个控件（Widget）创建不同类型的渲染对象，组成渲染对象树。</p><p>而渲染对象树在Flutter的展示过程分为四个阶段，即布局、绘制、合成和渲染。 其中，布局和绘制在RenderObject中完成，Flutter采用深度优先机制遍历渲染对象树，确定树中各个对象的位置和尺寸，并把它们绘制到不同的图层上。绘制完毕后，合成和渲染的工作则交给Skia搞定。</p><p>Flutter通过引入Widget、Element与RenderObject这三个概念，把原本从视图数据到视图渲染的复杂构建过程拆分得更简单、直接，在易于集中治理的同时，保证了较高的渲染效率。</p><h2 id="renderobjectwidget介绍"><a aria-hidden="true" tabindex="-1" href="/blog-front/flutter核心技术与实战/04.flutter基础/01#renderobjectwidget介绍"><span class="icon icon-link"></span></a>RenderObjectWidget介绍</h2><p>通过第5篇文章“<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/106199">从标准模板入手，体会Flutter代码是如何运行在原生系统上的<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>”的介绍，你应该已经知道如何使用StatelessWidget和StatefulWidget了。</p><p>不过，StatelessWidget和StatefulWidget只是用来组装控件的容器，并不负责组件最后的布局和绘制。在Flutter中，布局和绘制工作实际上是在Widget的另一个子类RenderObjectWidget内完成的。</p><p>所以，在今天这篇文章的最后，我们再来看一下RenderObjectWidget的源码，来看看如何使用Element和RenderObject完成图形渲染工作。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">abstract class RenderObjectWidget extends Widget {</span></div><div class="token-line"><span class="token plain">      @override</span></div><div class="token-line"><span class="token plain">      RenderObjectElement createElement();</span></div><div class="token-line"><span class="token plain">      @protected</span></div><div class="token-line"><span class="token plain">      RenderObject createRenderObject(BuildContext context);</span></div><div class="token-line"><span class="token plain">      @protected</span></div><div class="token-line"><span class="token plain">      void updateRenderObject(BuildContext context, covariant RenderObject renderObject) { }</span></div><div class="token-line"><span class="token plain">      ...</span></div><div class="token-line"><span class="token plain">    }</span></div></pre></div><p>RenderObjectWidget是一个抽象类。我们通过源码可以看到，这个类中同时拥有创建Element、RenderObject，以及更新RenderObject的方法。</p><p>但实际上，<strong>RenderObjectWidget本身并不负责这些对象的创建与更新</strong>。</p><p>对于Element的创建，Flutter会在遍历Widget树时，调用createElement去同步Widget自身配置，从而生成对应节点的Element对象。而对于RenderObject的创建与更新，其实是在RenderObjectElement类中完成的。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">abstract class RenderObjectElement extends Element {</span></div><div class="token-line"><span class="token plain">      RenderObject _renderObject;</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">      @override</span></div><div class="token-line"><span class="token plain">      void mount(Element parent, dynamic newSlot) {</span></div><div class="token-line"><span class="token plain">        super.mount(parent, newSlot);</span></div><div class="token-line"><span class="token plain">        _renderObject = widget.createRenderObject(this);</span></div><div class="token-line"><span class="token plain">        attachRenderObject(newSlot);</span></div><div class="token-line"><span class="token plain">        _dirty = false;</span></div><div class="token-line"><span class="token plain">      }</span></div><div class="token-line"><span class="token plain">       </span></div><div class="token-line"><span class="token plain">      @override</span></div><div class="token-line"><span class="token plain">      void update(covariant RenderObjectWidget newWidget) {</span></div><div class="token-line"><span class="token plain">        super.update(newWidget);</span></div><div class="token-line"><span class="token plain">        widget.updateRenderObject(this, renderObject);</span></div><div class="token-line"><span class="token plain">        _dirty = false;</span></div><div class="token-line"><span class="token plain">      }</span></div><div class="token-line"><span class="token plain">      ...</span></div><div class="token-line"><span class="token plain">    }</span></div></pre></div><p>在Element创建完毕后，Flutter会调用Element的mount方法。在这个方法里，会完成与之关联的RenderObject对象的创建，以及与渲染树的插入工作，插入到渲染树后的Element就可以显示到屏幕中了。</p><p>如果Widget的配置数据发生了改变，那么持有该Widget的Element节点也会被标记为dirty。在下一个周期的绘制时，Flutter就会触发Element树的更新，并使用最新的Widget数据更新自身以及关联的RenderObject对象，接下来便会进入Layout和Paint的流程。而真正的绘制和布局过程，则完全交由RenderObject完成：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">abstract class RenderObject extends AbstractNode with DiagnosticableTreeMixin implements HitTestTarget {</span></div><div class="token-line"><span class="token plain">      ...</span></div><div class="token-line"><span class="token plain">      void layout(Constraints constraints, { bool parentUsesSize = false }) {...}</span></div><div class="token-line"><span class="token plain">      </span></div><div class="token-line"><span class="token plain">      void paint(PaintingContext context, Offset offset) { }</span></div><div class="token-line"><span class="token plain">    }</span></div></pre></div><p>布局和绘制完成后，接下来的事情就交给Skia了。在VSync信号同步时直接从渲染树合成Bitmap，然后提交给GPU。这部分内容，我已经在之前的“<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/105703">Flutter区别于其他方案的关键技术是什么<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>？”中与你介绍过了，这里就不再赘述了。</p><p>接下来，我以下面的界面示例为例，与你说明Widget、Element与RenderObject在渲染过程中的关系。在下面的例子中，一个Row容器放置了4个子Widget，左边是Image，而右边则是一个Column容器下排布的两个Text。</p><p><img src="/blog-front/static/httpsstatic001geekbangorgresourceimagef4b9f4d2ac98728cf4f24b0237958d0ce0b9.7f952c16.png" alt=""/></p><p>图3 界面示例</p><p>那么，在Flutter遍历完Widget树，创建了各个子Widget对应的Element的同时，也创建了与之关联的、负责实际布局和绘制的RenderObject。</p><p><img src="/blog-front/static/httpsstatic001geekbangorgresourceimage356d3536bd7bc00b42b220ce18ba86c2a26d.816ad8e9.png" alt=""/></p><p>图4 示例界面生成的“三棵树”</p><h2 id="总结"><a aria-hidden="true" tabindex="-1" href="/blog-front/flutter核心技术与实战/04.flutter基础/01#总结"><span class="icon icon-link"></span></a>总结</h2><p>好了，今天关于Widget的设计思路和基本原理的介绍，我们就先进行到这里。接下来，我们一起回顾下今天的主要内容吧。</p><p>首先，我与你介绍了Widget渲染过程，学习了在Flutter中视图数据的组织和渲染抽象的三个核心概念，即Widget、 Element和RenderObject。</p><p>其中，Widget是Flutter世界里对视图的一种结构化描述，里面存储的是有关视图渲染的配置信息；Element则是Widget的一个实例化对象，将Widget树的变化做了抽象，能够做到只将真正需要修改的部分同步到真实的Render Object树中，最大程度地优化了从结构化的配置信息到完成最终渲染的过程；而RenderObject，则负责实现视图的最终呈现，通过布局、绘制完成界面的展示。</p><p>最后，在对Flutter Widget渲染过程有了一定认识后，我带你阅读了RenderObjectWidget的代码，理解Widget、Element与RenderObject这三个对象之间是如何互相配合，实现图形渲染工作的。</p><p>熟悉了Widget、Element与RenderObject这三个概念，相信你已经对组件的渲染过程有了一个清晰而完整的认识。这样，我们后续再学习常用的组件和布局时，就能够从不同的视角去思考框架设计的合理性了。</p><p>不过在日常开发学习中，绝大多数情况下，我们只需要了解各种Widget特性及使用方法，而无需关心Element及RenderObject。因为Flutter已经帮我们做了大量优化工作，因此我们只需要在上层代码完成各类Widget的组装配置，其他的事情完全交给Flutter就可以了。</p><h2 id="思考题"><a aria-hidden="true" tabindex="-1" href="/blog-front/flutter核心技术与实战/04.flutter基础/01#思考题"><span class="icon icon-link"></span></a>思考题</h2><p>你是如何理解Widget、Element和RenderObject这三个概念的？它们之间是一一对应的吗？你能否在Android/iOS/Web中找到对应的概念呢？</p><p>欢迎你在评论区给我留言分享你的观点，我会在下一篇文章中等待你！感谢你的收听，也欢迎你把这篇文章分享给更多的朋友一起阅读。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/flutter核心技术与实战/04.Flutter基础/01.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/23 20:46:43</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-front/umi.js"></script>
  </body>
</html>
